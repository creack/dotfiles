# -*- mode: sh -*-

# Environement.

# Set goroot.
export GOROOT=~/goroot
export PATH=$GOROOT/bin:$PATH


function setgoenv() {
    local gopath=$1

    # Remove GOBIN from PATH.
    [ -n "$GOPATH" ] && export PATH=$(echo $PATH | sed -e "s|$GOBIN:*||g" -e 's/:$//')

    # Set new Go env.
    #export GOPATH=$gopath
    export GOBIN=$gopath/bin
    export PATH=$GOBIN:$PATH
}

function setdeployenv() {
    setgoenv ~/go.deploy
}

#setgoenv ~/go

# Helper to install common tools.
function update_go() {
    packages="github.com/ajstarks/svgo/benchviz
github.com/axw/gocov/gocov
github.com/cespare/prettybench
github.com/mdempsky/gocode
github.com/rogpeppe/godef
github.com/zmb3/gogetdoc
golang.org/x/tools/cmd/...
github.com/fatih/gomodifytags
"
    echo $packages | while read pkg; do
        echo "$pkg"
	go get -u $pkg
    done
}
